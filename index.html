<!DOCTYPE html><html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>پرسشنامه تخمین طول عمر</title>
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@latest/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/jalaali-js@1.1.0/dist/jalaali.min.js"></script>
  <style>body{font-family:Vazirmatn,sans-serif;background:#f2f2f2;padding:20px;direction:rtl;text-align:right;max-width:700px;margin:auto;color:#333}input,select,button{padding:10px;margin-top:5px;width:100%;font-size:16px;border-radius:8px;border:1px solid #ccc;box-sizing:border-box;font-family:Vazirmatn,sans-serif}button{background-color:#4CAF50;color:white;font-weight:bold;cursor:pointer;margin-top:15px;transition:background-color .3s ease}button:hover{background-color:#45a049}.question{margin-bottom:20px;background:#fff;padding:10px 15px;border-radius:12px;box-shadow:0 0 5px rgba(0,0,0,.05)}.result{margin-top:30px;padding:15px;background:#ffffffee;border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,.1);white-space:pre-wrap;line-height:1.8}label{font-weight:bold;display:block;margin-bottom:5px}h2{text-align:center;color:#2c3e50}#downloadBtn{background-color:#3498db;color:white}#downloadBtn:hover{background-color:#2980b9}.gravestone{background:#2f2f2f;color:#f0f0f0;padding:20px;border-radius:15px;text-align:center;margin-top:30px;line-height:2;box-shadow:0 0 12px rgba(0,0,0,.4)}</style>
</head>
<body>
<h2>📋 پرسشنامه تخمین طول عمر</h2>
<div class="question"><label>👤 نام کامل شما:</label><input type="text" id="name"></div>
<div class="question"><label>🎂 سن دقیق شما:</label><input type="number" id="age" min="1" max="120"></div>
<div id="questions"></div>
<button onclick="calculateFromAnswers()">📅 محاسبه تاریخ فوت</button>
<button id="downloadBtn" onclick="downloadResult()" style="display:none">⬇️ ذخیره نتیجه</button>
<div class="result" id="result"></div>
<script>
const poems = ["رفتم ولی هنوز در کوچه‌های خاطره، قدم می‌زنم","ای زندگی! با همه تلخی‌ات، دوستت داشتم خداحافظ...","نماندم تا ببینم پاییز چگونه می‌ریزد اما برگ‌ها به یادم خواهند افتاد","در دل هر آن‌کس که دوستش داشتم زنده‌ام هنوز...","گمان مبر که رفته‌ام من در دل تو جاودانه‌ام"];
const checklistTasks = ["نوشتن وصیت‌نامه رسمی و تعیین وراث","تهیه پیام ویدیویی یا صوتی برای خانواده","پرداخت بدهی‌ها و بستن حساب‌های بانکی","آشتی با افراد قطع رابطه","انجام کار خیری که همیشه قصدش را داشتی","ساختن خاطرات تازه با عزیزان"];
const questionsWithOptions = [
["چند وعده غذا در روز می‌خورید؟",["۱ وعده","۲ وعده","۳ وعده","۴ وعده","۵ وعده","بیشتر"]],
["چقدر ورزش می‌کنید؟",["اصلاً","کم","هفته‌ای ۲ بار","هفته‌ای ۳ بار","هر روز","باشگاه حرفه‌ای"]],
["سیگار می‌کشید؟",["بله","گاهی","قبلاً ترک کردم","نه","هیچ‌وقت","بیزارم"]],
["مصرف الکل؟",["زیاد","گاه‌به‌گاه","قبلاً","نه","هرگز","ضد الکل"]],
["چقدر آب می‌نوشید؟",["کمتر از ۱ لیتر","۱ لیتر","۲ لیتر","۳ لیتر","۴ لیتر","۵ لیتر یا بیشتر"]],
["چند ساعت می‌خوابید؟",["کمتر از ۴","۴ تا ۵","۶","۷","۸","بیشتر از ۸"]],
["استرس روزانه شما چقدر است؟",["بسیار زیاد","زیاد","متوسط","کم","بسیار کم","تقریباً صفر"]],
["شغل شما چقدر فیزیکی است؟",["کاملاً پشت‌میزی","نیمه‌فعال","فعال","بسیار فعال","سخت بدنی","ورزشی"]],
["میزان چاقی یا لاغری؟",["چاق زیاد","چاق متوسط","متناسب","لاغر","کم‌وزن","عضلانی"]],
["چند ساعت با موبایل یا مانیتور هستید؟",["۱۲+ ساعت","۸-۱۲","۵-۸","۳-۵","۱-۳","زیر ۱"]],
["در هفته چقدر پیاده‌روی دارید؟",["کمتر از ۱ ساعت","۱-۲","۲-۳","۳-۵","۵+","هر روز"]],
["در چه نوع منطقه‌ای زندگی می‌کنید؟",["شهری آلوده","شهر بزرگ","شهر معمولی","شهر تمیز","روستا","روستای کوهستانی"]],
["چند بار در سال بیمار می‌شوید؟",["بیشتر از ۵","۳-۵","۲-۳","۱","خیلی کم","تقریباً هرگز"]],
["آخرین چکاپ پزشکی شما؟",["هیچ‌وقت","۵ سال پیش","۳ سال پیش","۱ سال پیش","۶ ماه پیش","هر ۳ ماه"]],
["نوع تغذیه شما؟",["فست‌فود","متوسط","نیمه‌سالم","سالم","گیاه‌خواری","ارگانیک"]],
["مصرف میوه و سبزی؟",["هیچ","هفته‌ای ۱ بار","۲-۳ بار","۴-۵ بار","هر روز","با هر وعده"]],
["روابط اجتماعی؟",["خیلی ضعیف","ضعیف","متوسط","خوب","خیلی خوب","عالی"]],
["مطالعه روزانه دارید؟",["هیچ","کم","متوسط","زیاد","خیلی زیاد","مطالعه حرفه‌ای"]],
["به تفریح و سرگرمی اهمیت می‌دهید؟",["نه","کم","متوسط","زیاد","خیلی زیاد","برنامه‌ریزی شده"]],
["مسافرت سالانه؟",["هیچ","۱ بار","۲ بار","۳ بار","۴+","ماهی ۱"]],
["مذهب و معنویت در زندگی؟",["اصلاً","کم","متوسط","زیاد","همیشه","در قلب من است"]],
["عادت به خشم و عصبانیت؟",["خیلی زیاد","زیاد","متوسط","کم","نادر","تقریباً هرگز"]],
["سابقه خانوادگی بیماری جدی؟",["زیاد","متوسط","کم","خیلی کم","تقریباً هیچ","کاملاً سالم"]],
["نوشیدن چای یا قهوه؟",["بیش از ۶ لیوان","۴-۶","۲-۴","۱-۲","کمتر","هیچ"]],
["آیا آرامش درونی دارید؟",["اصلاً","کم","متوسط","زیاد","خیلی زیاد","آرامش کامل"]]
];
window.onload = ()=>{
const container=document.getElementById("questions");
questionsWithOptions.forEach(([q,opts],idx)=>{
const div=document.createElement("div");
div.className="question";
div.innerHTML=`<label>${idx+1}. ${q}</label>`;
const select=document.createElement("select");
select.id=`q${idx}`;
opts.forEach((opt,i)=>{
const option=document.createElement("option");
option.value=i;
option.text=`${String.fromCharCode(65+i)}) ${opt}`;
select.appendChild(option);
});
div.appendChild(select);
container.appendChild(div);
});}
function getRandomItems(arr,count){return[...arr].sort(()=>.5-Math.random()).slice(0,count)}
function generateBio(score){if(score>=120)return"او انسانی بسیار سالم، مهربان، فعال و عاشق زندگی بود.";else if(score>=80)return"او انسانی خوش‌اخلاق، اجتماعی و متعادل بود.";else return"او زندگی ساده‌ای داشت و در دل اطرافیانش جاودانه ماند.";}
function calculateFromAnswers(){const name=document.getElementById('name').value;const age=parseInt(document.getElementById('age').value);if(!name||isNaN(age)){alert("لطفاً نام و سن را وارد کنید.");return;}let score=0;for(let i=0;i<questionsWithOptions.length;i++){score+=parseInt(document.getElementById(`q${i}`).value);}const now=new Date();const birthYear=now.getFullYear()-age;let predictedLife=65;if(score>=120)predictedLife=87;else if(score>=80)predictedLife=78;else predictedLife=65;const deathYear=birthYear+predictedLife;const deathDate=new Date(deathYear,now.getMonth(),now.getDate());const j=window.jalaali.toJalaali(deathDate);const weekDay=['یکشنبه','دوشنبه','سه‌شنبه','چهارشنبه','پنجشنبه','جمعه','شنبه'][deathDate.getDay()];const hour=Math.floor(Math.random()*24);const minute=Math.floor(Math.random()*60);const timeOfDeath=`${hour.toString().padStart(2,'0')}:${minute.toString().padStart(2,'0')}`;const bio=generateBio(score);const poem=getRandomItems(poems,1)[0];const tasks=getRandomItems(checklistTasks,6).map(t=>`- ${t}`).join("<br>");const gravestone=`\n<div class='gravestone'>🪦 ${name}<br>تولد: ${birthYear}<br>وفات: ${j.jy}/${j.jm.toString().padStart(2,'0')}/${j.jd.toString().padStart(2,'0')} (${weekDay})<br>ساعت: ${timeOfDeath}<br><br>${bio}<br><br>${poem}<br><br>📌 کارهایی که بهتر است قبل از مرگ انجام دهید:<br>${tasks}</div>`;document.getElementById('result').innerHTML=gravestone;document.getElementById('downloadBtn').style.display='inline-block';}
function downloadResult(){const text=document.getElementById('result').innerText;const blob=new Blob([text],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='gravestone.txt';a.click();URL.revokeObjectURL(url);}
</script>
</body>
</html>
