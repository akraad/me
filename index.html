<!DOCTYPE html><html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ูพุฑุณุดูุงูู ุชุฎูู ุทูู ุนูุฑ</title>
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@latest/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
  <style>
    body {
      font-family: Vazirmatn, sans-serif;
      background: linear-gradient(to bottom right, #fefefe, #eef2f3);
      padding: 20px;
      direction: rtl;
      text-align: right;
      max-width: 600px;
      margin: auto;
      color: #333;
    }
    input, select, button {
      padding: 10px;
      margin-top: 5px;
      width: 100%;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-family: Vazirmatn, sans-serif;
    }
    button {
      background-color: #4CAF50;
      color: white;
      font-weight: bold;
      cursor: pointer;
      margin-top: 15px;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #45a049;
    }
    .question {
      margin-bottom: 20px;
      background: #fff;
      padding: 10px 15px;
      border-radius: 12px;
      box-shadow: 0 0 5px rgba(0,0,0,0.05);
    }
    .result {
      margin-top: 30px;
      padding: 15px;
      background: #ffffffee;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      white-space: pre-wrap;
      line-height: 1.8;
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }
    h2 {
      text-align: center;
      color: #2c3e50;
    }
    #downloadBtn {
      background-color: #3498db;
      color: white;
    }
    #downloadBtn:hover {
      background-color: #2980b9;
    }
  </style>
</head>
<body>
  <h2>๐ ูพุฑุณุดูุงูู ุชุฎูู ุทูู ุนูุฑ</h2>  <div class="question">
    <label>๐ค ูุงู ฺฉุงูู ุดูุง:</label>
    <input type="text" id="name">
  </div>
  <div class="question">
    <label>๐ ุณู ุฏูู ุดูุง:</label>
    <input type="number" id="age" min="1" max="120">
  </div>  <div id="questions"></div><button onclick="calculateFromAnswers()">๐ ูุญุงุณุจู ุชุงุฑุฎ ููุช</button> <button id="downloadBtn" onclick="downloadResult()" style="display:none">โฌ๏ธ ุฐุฎุฑู ูุชุฌู</button>

  <div class="result" id="result"></div>  <script>
    const poems = [
      "ุฑูุชู ูู ูููุฒ\nุฏุฑ ฺฉูฺูโูุง ุฎุงุทุฑูุ ูุฏู ูโุฒูู",
      "ุง ุฒูุฏฺฏ! ุจุง ููู ุชูุฎโุงุชุ ุฏูุณุชุช ุฏุงุดุชู\nุฎุฏุงุญุงูุธ...",
      "ููุงูุฏู ุชุง ุจุจูู ูพุงุฒ ฺฺฏููู ูโุฑุฒุฏ\nุงูุง ุจุฑฺฏโูุง ุจู ุงุฏู ุฎูุงููุฏ ุงูุชุงุฏ",
      "ุฏุฑ ุฏู ูุฑ ุขูโฺฉุณ ฺฉู ุฏูุณุชุด ุฏุงุดุชู\nุฒูุฏูโุงู ูููุฒ...",
      "ฺฏูุงู ูุจุฑ ฺฉู ุฑูุชูโุงูุ\nูู ุฏุฑ ุฏู ุชู ุฌุงูุฏุงููโุงู",
      "ูุฑุง ุจู ุงุฏ ุขูุฑุ ููุช ูุณู ุขุฑุงู ูุฒุฏ\nูู ููุงู ูุณูู...",
      "ุฎูุงุจุฏู ุจุฑุง ุขุฑุงูุด\nูู ุจุฑุง ูุฑุงููุด",
      "ุง ุฏู ุบูฺฏู ูุจุงุด\nูู ููุท ุจู ุขุณูุงู ุฑูุชูโุงูุ ูู ุฏูุฑ ุงุฒ ุชู",
      "ุงฺฏุฑ ุงุดฺฉ ุฑุฎุช\nุจฺฏุฐุงุฑ ุดุฑู ุจุงุดุฏุ ูู ุชูุฎ",
      "ุฏูุงู ุชูุงู ุดุฏุ\nุงูุง ุนุดูู ุจุงูโุณุช",
      "ุฏุฑ ุฑูุชูู ูฺฏูุฏ ุงูุณูุณ\nุฏุฑ ุจูุฏูู ุจฺฏูุฏ ุฎูุดุญุงู ุจูุฏู",
      "ุงุฒ ุงู ุฏูุง ุฑูุชู\nูู ุงุฒ ุฏูโูุง...",
      "ุฏูู ฺฏุฑูุชู ุจูุฏ\nุขุณูุงู ุตุฏุงู ฺฉุฑุฏ",
      "ูุฑฺฏ ูพุงุงู ูุณุช\nุขุบุงุฒโุณุช ุจโูุงู ู ูุดุงู",
      "ุฒูุฏฺฏโุงู ุณุงุฏู ุจูุฏ\nุงูุฏูุงุฑู ุฑูุชูู ูุฒ ุขุฑุงู ุจุงุดุฏ",
      "ุจุง ูุจุฎูุฏ ุฑูุชู\nฺฉู ฺฏุฑู ูฺฉูุฏ",
      "ุณูฺฏ ุฑุง ูฺฏุงู ูฺฉู\nุงุฏ ูุฑุง ูฺฏุงู ฺฉู",
      "ุง ุฑูฺฏุฐุฑ!\nุขูุณุชู ูุฏู ุจุฒูุ ูู ุงูุฌุง ุฎูุงุจุฏูโุงู",
      "ููุณ ุชูุงู ุดุฏ\nุงูุง ููุฑู ุจุงูโุณุช",
      "ุจู ูุงู ุฒูุฏฺฏ ุขูุฏู\nุจู ูุงู ุนุดู ุฑูุชู"
    ];

    const checklistTasks = [
      "ููุดุชู ูุตุชโูุงูู ุฑุณู ู ุชุนู ูุฑุงุซ",
      "ุชูู ูพุงู ูุฏู ุง ุตูุช ุจุฑุง ุฎุงููุงุฏู",
      "ุซุจุช ุฎุงุทุฑุงุช ููู ุฏุฑ ุฏูุชุฑฺู ุง ูุงู",
      "ูพุฑุฏุงุฎุช ุจุฏูโูุง ู ุจุณุชู ุญุณุงุจโูุง ุจุงูฺฉ",
      "ุจุฎุดุฏู ฺฉุณุงู ฺฉู ุฏูุฎูุฑ ุจูุฏุฏ",
      "ูุดุฎุตโฺฉุฑุฏู ูุญู ุฏูู",
      "ุฎุฑุฏ ุง ุฑุฒุฑู ุณูฺฏ ูุจุฑ ุณุงุฏู",
      "ุชุฏูู ููุฑุณุช ุฏุงุฑุงโูุง ู ุฑูุฒูุง",
      "ฺฏุฐุงุดุชู ูุฐุฑ ุง ฺฉูฺฉ ุฎุฑู ูพุณ ุงุฒ ูุฑฺฏ",
      "ุชูู ุขูุจูู ุฎุงููุงุฏฺฏ ุฏุฌุชุงู",
      "ูฺฏุงุฑุด ุดุนุฑ ุง ูพุงู ุฎุฏุงุญุงูุธ",
      "ุชุนู ูฺฉู ุง ูุฑุฏ ูุงุจู ุงุนุชูุงุฏ",
      "ุงูุฌุงู ฺฉุงุฑ ุฎุฑ ฺฉู ููุดู ูุตุฏุด ุฑุง ุฏุงุดุช",
      "ุขุดุช ุจุง ุงูุฑุงุฏ ูุทุน ุฑุงุจุทู",
      "ูุฐุช ุจุฑุฏู ุงุฒ ุทุจุนุช",
      "ุฎูุงูุฏู ฺฉุชุงุจโูุง ุนูุจโูุงูุฏู",
      "ุฎุฏุงุญุงูุธ ุตููุงูู ุจุง ุงุทุฑุงูุงู",
      "ุซุจุช ูุตุช ุฏุฌุชุงู",
      "ุณุงุฎุชู ุฎุงุทุฑุงุช ุชุงุฒู ุจุง ุนุฒุฒุงู",
      "ุณูุฑ ุจู ฺฉ ูฺฉุงู ุขุฑุฒู"
    ];

    const questionsWithOptions = [
      ["ูุฒุงู ูุนุงูุช ุจุฏู ุฏุฑ ููุชูุ", ["ุงุตูุงู ูุนุงูุช ูุฏุงุฑู","ููุชูโุง ฺฉูุชุฑ ุงุฒ ฒ ุฑูุฒ","ฒโณ ุฑูุฒ ฺฉู","ณ ุฑูุฒ ูุชูุณุท","ดโต ุฑูุฒ ููุธู","ุฑูุฒุงูู ูุฑุฒุด ุดุฏุฏ"]],
      ["ุนุงุฏุช ุฎูุงุจ ุดุจุงููุ", ["ฺฉูุชุฑ ุงุฒ ด ุณุงุนุช","ดโต ุณุงุนุช","ถ ุณุงุนุช ุจโฺฉูุช","ท ุณุงุนุช ูุชูุณุท","ทโธ ุณุงุนุช ุฎูุจ","ธ ุณุงุนุช ุนุงู"]],
      ["ูุตุฑู ุฏุฎุงูุงุชุ", ["ุจุด ุงุฒ ฑฐ ูุฎ","ตโฑฐ ูุฎ","ฑโด ูุฎ","ุณุงุจูู ูุตุฑู","ุจูโูุฏุฑุช","ูุฑฺฏุฒ"]],
      ["ูุตุฑู ุงูฺฉูุ", ["ุฑูุฒุงูู","ฺูุฏ ุจุงุฑ ุฏุฑ ููุชู","ููุชูโุง ฺฉ ุจุงุฑ","ุจูโูุฏุฑุช","ุฎู ฺฉู","ูุฑฺฏุฒ"]],
      ["ูุตุฑู ููู ู ุณุจุฒุฌุงุชุ", ["ูฺโููุช","ฺฉูุชุฑ ุงุฒ ฑ ูุนุฏู","ฑโฒ ูุนุฏู","ฒโณ ูุนุฏู","ดโต ูุนุฏู","ุจุด ุงุฒ ต ูุนุฏู"]],
      ["ุณุทุญ ุงุณุชุฑุณ ุฑูุฒุงููุ", ["ุจุณุงุฑ ุฒุงุฏ","ุฒุงุฏ","ูุชูุณุท ุจุงูุง","ูุชูุณุท","ฺฉู","ฺฉูุชุฑูโุดุฏู"]],
      ["BMI ุดูุงุ", ["ุจุด ุงุฒ ณต","ณฐโณต","ฒตโณฐ","ฑธ.ตโฒด.น","ฑทโฑธ.ด","ุฒุฑ ฑท"]],
      ["ฺฺฉุงูพ ูพุฒุดฺฉุ", ["ุงุตูุงู","ูุฑ ฺูุฏ ุณุงู","ูุฑ ุฏู ุณุงู","ุณุงูุงูู","ุฏู ุจุงุฑ ุฏุฑ ุณุงู","ููุธู"]],
      ["ุณูุงูุช ุฑูุงูุ", ["ูุงุณุงูู","ุงูุณุฑุฏู","ููุณุงูุงุช ุฑูุญ","ูุฑูุงู","ุฎูุจ","ุดุงุฏ"]],
      ["ุฑูุงุจุท ุงุฌุชูุงุนุ", ["ููุฒู","ฺฉู","ูุญุฏูุฏ","ูุชูุณุท","ุตูู","ุญูุงุชฺฏุฑ"]],
      ["ูุณุชโููุฏุ", ["ูุฑ ุฑูุฒ","ดโต ุจุงุฑ","ฒโณ ุจุงุฑ","ููุชูโุง ฺฉ ุจุงุฑ","ุจูโูุฏุฑุช","ูุฑฺฏุฒ"]],
      ["ุขุจ ุฑูุฒุงููุ", ["<ฑ ููุงู","ฑโฒ ููุงู","ณโด ููุงู","ตโถ ููุงู","ทโธ ููุงู",">ธ ููุงู"]],
      ["ุชุญุฑฺฉ ุดุบูุ", ["ุงุณุชุฑุณ ู ุจโุชุญุฑฺฉ","ูุดุงุฑ ุฒุงุฏ","ฺฉูโุชุญุฑฺฉ","ูุชูุณุท","ุฎูุจ","ุนุงู"]],
      ["ููุฑ ุฎูุฑุดุฏุ", ["ูฺโููุช","ุฎู ฺฉู","<ฑฐ ุฏููู","ฑฐโฒฐ ุฏููู","ููโุณุงุนุช","ููุธู"]],
      ["ูุตุฑู ุดฺฉุฑุ", ["ุจุณุงุฑ ุฒุงุฏ","ุฒุงุฏ","ูุชูุณุท ุจุงูุง","ูุชูุณุท","ฺฉู","ุจุฏูู"]],
      ["ุจูุงุฑ ุงุฑุซุ", ["ฺูุฏ ุจูุงุฑ","ุฏู ุจูุงุฑ","ฺฉ ุจูุงุฑ","ุฏุฑ ูุณู ูุจู","ุฎูู","ูฺ"]],
      ["ูุตุฑู ุฏุงุฑูุ", ["ฺูุฏ ุฏุงุฑู ูุฒูู","ุฏู ุฏุงุฑู","ฺฉ ุฏุงุฑู","ฺฏุงูโุจูโฺฏุงู","ูุฏุงุฑู","ูุฑฺฏุฒ"]],
      ["ุณูุงูุช ููุฏ/ฺุฑุจ/ูุดุงุฑุ", ["ููู ุบุฑูุฑูุงู","ุฏู ูุดฺฉู","ฺฉ ูุดฺฉู","ูุฑุฒ","ฺฉูุชุฑูโุดุฏู","ูุฑูุงู"]],
      ["ุชููุน ุบุฐุงุ", ["ูุณุชโููุฏ ุบุงูุจ","ุบุฐุง ูุงุณุงูู","ุชุฑฺฉุจ","ุฎุงูฺฏ","ุณุงูู","ุงุฑฺฏุงูฺฉ"]],
      ["ุชุญุตูุงุชุ", ["ุจโุณูุงุฏ","ุงุจุชุฏุง","ุฏูพูู","ููู ุฏูพูู","ูุณุงูุณ","ฺฉุงุฑุดูุงุณโุงุฑุดุฏ ุง ุฏฺฉุชุฑุง"]],
      ["ูุถุน ุงูุชุตุงุฏุ", ["ุจุณุงุฑ ุถุนู","ุถุนู","ูุชูุณุท ูพุงู","ูุชูุณุท","ุฎูุจ","ุจุณุงุฑ ุฎูุจ"]],
      ["ุงุณุชูุงุฏู ุงุฒ ุชฺฉููููฺุ", [">ฑฐ ุณุงุนุช","ธโฑฐ ุณุงุนุช","ถโธ ุณุงุนุช","ดโถ ุณุงุนุช","ฒโด ุณุงุนุช","<ฒ ุณุงุนุช"]],
      ["ุชูุฑุญ ู ุขุฑุงูุดุ", ["ูฺโููุช","ุฎู ฺฉู","ฺฏุงูโุจูโฺฏุงู","ููุชูโุง ฑ","ฺูุฏ ุจุงุฑ","ุฑูุฒุงูู"]],
      ["ูุฏู ู ุงูฺฏุฒูุ", ["ูุฏุงุฑู","ูุงุงูุฏ","ุจโุงูฺฏุฒู","ุงูุฏูุงุฑ","ูุฏูโุฏุงุฑ","ุจุง ุงูฺฏุฒู"]],
      ["ูุญู ุฒูุฏฺฏุ", ["ฺฉูุงูโุดูุฑ ุขููุฏู","ุดูุฑ ุจุฒุฑฺฏ","ุดูุฑ ฺฉูฺฺฉ","ุญููู","ุฑูุณุชุง","ููุทูู ูพุงฺฉ"]]
    ];

    window.onload = () => {
      const container = document.getElementById("questions");
      questionsWithOptions.forEach(([q, opts], idx) => {
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `<label>${idx + 1}. ${q}</label>`;
        const select = document.createElement("select");
        select.id = `q${idx}`;
        opts.forEach((opt, i) => {
          const option = document.createElement("option");
          option.value = i;
          option.text = `${String.fromCharCode(65+i)}) ${opt}`;
          select.appendChild(option);
        });
        div.appendChild(select);
        container.appendChild(div);
      });
    };

    let fullResultText = "";

    function getRandomItems(arr, count) {
      const shuffled = [...arr].sort(() => 0.5 - Math.random());
      return shuffled.slice(0, count);
    }

    function calculateFromAnswers() {
      const name = document.getElementById('name').value;
      const age = parseInt(document.getElementById('age').value);
      if (!name || isNaN(age)) {
        alert("ูุทูุงู ูุงู ู ุณู ุฑุง ูุงุฑุฏ ฺฉูุฏ.");
        return;
      }

      let totalScore = 0;
      for (let i = 0; i < questionsWithOptions.length; i++) {
        const val = parseInt(document.getElementById(`q${i}`).value);
        totalScore += val;
      }

      const now = new Date();
      const yearNow = now.getFullYear();
      let predictedLife = 65;
      if (totalScore >= 101) predictedLife = 87;
      else if (totalScore >= 81) predictedLife = 80;
      else if (totalScore >= 56) predictedLife = 72;
      else if (totalScore >= 31) predictedLife = 64;
      else predictedLife = 55;

      const deathYear = yearNow + (predictedLife - age);
      const deathDate = new Date(deathYear, now.getMonth(), now.getDate());
      const weekDay = ['ฺฉุดูุจู','ุฏูุดูุจู','ุณูโุดูุจู','ฺูุงุฑุดูุจู','ูพูุฌุดูุจู','ุฌูุนู','ุดูุจู'][deathDate.getDay()];
      const deathHour = Math.floor(Math.random() * 24);
      const deathMinute = Math.floor(Math.random() * 60);

      const formatted = `๐ชฆ ${name} ุนุฒุฒุ ุชุงุฑุฎ ุชุฎูู ููุช ุดูุง:\n` +
        `${weekDay}ุ ${deathDate.getDate()} / ${deathDate.getMonth()+1} / ${deathDate.getFullYear()}\n` +
        `โฐ ุณุงุนุช: ${deathHour.toString().padStart(2,'0')}:${deathMinute.toString().padStart(2,'0')}\n\n`;

      const checklist = `๐ ฺฉุงุฑูุง ฺฉู ุจูุชุฑ ุงุณุช ูุจู ุงุฒ ูุฑฺฏ ุงูุฌุงู ุฏูุฏ:\n` + getRandomItems(checklistTasks, 6).map(i => `- ${i}`).join("\n") + "\n\n";

      const selectedPoems = getRandomItems(poems, 3).map(p => `๐ชจ ${p}`).join("\n\n");

      fullResultText = formatted + checklist + selectedPoems;
      document.getElementById('result').innerText = fullResultText;
      document.getElementById('downloadBtn').style.display = 'inline-block';
    }

    function downloadResult() {
      const blob = new Blob([fullResultText], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'life_prediction.txt';
      a.click();
      URL.revokeObjectURL(url);
    }
  </script></body>
</html>
